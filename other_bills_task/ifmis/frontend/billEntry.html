<!--Heading-->
<div class="bg-white col-12" ng-controller="BillController">
    <div class="heading bg-primary bg-opacity-25">
        <p class="fw-bold text-primary p-2">OTHER BILLS</p>
    </div>
    <!--inline buttons-->
    <div class="heading border bg-dark rounded bg-opacity-10 mt-2 p-2 col-8">
        <div class="form-check form-check-inline fw-bold">
            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio" value="form47"
                ng-model="edit"">
            <label class=" form-check-label" for="inlineRadio1">FORM 47- Salary Bills</label>
        </div>
        <div class="form-check form-check-inline fw-bold">
            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio" value="otherBill"
                ng-model="edit"">
            <label class=" form-check-label" for="inlineRadio2">Other Bills</label>
        </div>
        <div class="form-check form-check-inline fw-bold">
            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio"
                value="supplementaryBill" ng-model="edit""">
            <label class="form-check-label" for="inlineRadio2">FORM 47- Supplementary Bills</label>
        </div>
    </div>
    <!--form-->
    <!--form number-->
    <div ng-show="edit=='otherBill'">
        <div class="row">
            <div class="col-2">
                <p class="fw-bold p-2 mt-2">Select Form No:</p>
            </div>
            <div class="col-6 mt-2">
                <select ng-model="formNumber" class="form-select" ng-change="FormChange()" >
                    <option value="" disabled>Select</option>
                    <option ng-repeat="form in forms track by $index" value={{form.id}}>{{form.form_number}}</option>
                </select>
            </div>
        </div>
        <!--form type-->
        <div class='' ng-show="formNumber">
            <div class="row">
                <div class="col-2">
                    <p class="fw-bold p-2 mt-2">Select Form Type<span class="text-danger">*</span>:</p>
                </div>
                <div class="col-6 mt-2">
                    <select ng-model="formType" class="form-select"  ng-change="formTypeChanged()">
                        <option value="" selected disabled>Select</option>
                        <option ng-repeat="formtype in formtypes track by $index" value={{formtype.id}}>
                            {{formtype.form_type}}</option>
                    </select>
                </div>
            </div>
            <!--Search By -->
            <div ng-show="formType">
                <div class="row">
                    <div class="col-2">
                        <p class="fw-bold p-2 mt-2">Search By:</p>
                    </div>
                    <div class="col-6 mt-2">
                        <div class="heading bg-dark border rounded bg-opacity-10 mt-2 p-2 col-12">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="nonadjustment" id="inlineRadio1"
                                    checked>
                                <label class="form-check-label" for="inlineRadio1">Non-adjustment</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="nonadjustment" id="inlineRadio2"
                                    value="option2">
                                <label class="form-check-label" for="inlineRadio2">Adjustment</label>
                            </div>
                        </div>
                        <div class="heading bg-dark border rounded bg-opacity-10 mt-2 p-2 col-12">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="accountnumber" id="inlineRadio1"
                                    checked>
                                <label class="form-check-label" for="inlineRadio1">Account Number</label>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Entry Type-->
                <div class="row">
                    <div class="col-2">
                        <p class="fw-bold p-2 mt-2">Select Entry Type:</p>
                    </div>
                    <div class="col-6 mt-2">
                        <div class="heading bg-dark border rounded bg-opacity-10 mt-2 p-2 col-12">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="entrytype" id="inlineRadio1" checked>
                                <label class="form-check-label" for="inlineRadio1">Single</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="entrytype" id="inlineRadio1"
                                    value="option1">
                                <label class="form-check-label" for="inlineRadio1">Bulk</label>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Enter Agency-->
                    <div class="row">
                        <div class="col-2">
                            <p class="fw-bold p-2 mt-2">Enter Agency/Party A/c No:<span class="text-danger">*</span></p>
                        </div>
                        <div class="col-6 mt-2 d-flex">
                            <input type="text" class="form-control" ng-model="accountNumber">
                            <button type="button" class="btn btn-dark ms-2" ng-click="SearchAgencyBtn()">Search</button>
                        </div>
                    </div>
                    <!--blue bg-->
                    <div ng-show="searchAgencyDetails.agency_name">
                        <div class="heading bg-primary bg-opacity-25 border-primary  rounded mt-2 p-2 me-2 col-8">
                            <!--name-->
                            <div class="row mt-3">
                                <div class="col-md-3">
                                    <p class="fw-bolder">Name</p>
                                </div>
                                <div class="col-md-4">
                                    {{searchAgencyDetails.agency_name}}
                                </div>
                            </div>
                            <!--account number-->
                            <div class="row mt-3">
                                <div class="col-md-3">
                                    <p class="fw-bolder">Account No:</p>
                                </div>
                                <div class="col-md-4">
                                    {{searchAgencyDetails.account_number}}
                                </div>
                            </div>
                            <!--Bank name-->
                            <div class="row mt-3">
                                <div class="col-md-3">
                                    <p class="fw-bolder">Bank Name:</p>
                                </div>
                                <div class="col-md-4">
                                    {{searchAgencyDetails.agency_ifsc.bank_name}}
                                </div>
                            </div>
                            <!--Bank branch-->
                            <div class="row mt-3">
                                <div class="col-md-3">
                                    <p class="fw-bolder">Branch:</p>
                                </div>
                                <div class="col-md-6">
                                    {{searchAgencyDetails.agency_ifsc.branch}}
                                </div>
                            </div>
                            <!--IFSC Code-->
                            <div class="row mt-3">
                                <div class="col-md-3">
                                    <p class="fw-bolder">IFSC CODE:</p>
                                </div>
                                <div class="col-md-4">
                                    {{searchAgencyDetails.agency_ifsc.ifsc_code}}
                                </div>
                            </div>
                            <!--Gross-->
                            <div>
                                <div class="row mt-3">
                                    <div class="col-md-3">
                                        <p class="fw-bolder">Gross<span class="text-danger">*</span></p>
                                    </div>
                                    <div class="col-md-8">
                                        <input type="number" class="form-control" ng-model="gross" ng-change="NetAmtChange()">
                                    </div>
                                </div>
                                <!--PT Dedn-->
                                <div class="row mt-3">
                                    <div class="col-md-3">
                                        <p class="fw-bolder">PT Dedn<span class="text-danger">*</span></p>
                                        <p>(Any amount added in PT Dedn will be credited to DDO's account)</p>
                                    </div>
                                    <div class="col-md-8">
                                        <input type="number" class="form-control" ng-model="ptdedn" ng-change="NetAmtChange()">
                                    </div>
                                </div>
                                <!--TDS-->
                                <div class="row mt-3">
                                    <div class="col-md-3">
                                        <p class="fw-bolder">TDS(IT)<span class="text-danger">*</span></p>
                                        <p>(Any amount added in TDS(IT) will be credited to DDO's account)</p>
                                    </div>
                                    <div class="col-md-8">
                                        <input type="number" class="form-control" ng-model="tds" ng-change="NetAmtChange()">
                                    </div>
                                </div>
                                <!--GST-->
                                <div class="row mt-3">
                                    <div class="col-md-3">
                                        <p class="fw-bolder">GST<span class="text-danger">*</span></p>
                                        <p>(Any amount added in GST will be credited to DDO's account)</p>
                                    </div>
                                    <div class="col-md-8">
                                        <input type="number" class="form-control" ng-model="gst" ng-change="NetAmtChange()">
                                    </div>
                                </div>
                                <!--GIS-->
                                <div class="row mt-3">
                                    <div class="col-md-3">
                                        <p class="fw-bolder">GIS<span class="text-danger">*</span></p>
                                    </div>
                                    <div class="col-md-8">
                                        <input type="number" class="form-control" ng-model="gis" ng-change="NetAmtChange()">
                                    </div>
                                </div>
                                <!--THN-->
                                <div class="row mt-3">
                                    <div class="col-md-3">
                                        <p class="fw-bolder">Telangana Haritha Nidhi<span class="text-danger">*</span>
                                        </p>
                                        <p>(Any amount added in Telangana Haritha Nidhi will be credited to Telangana
                                            Haritha Nidhi account)</p>
                                    </div>
                                    <div class="col-md-8">
                                        <input type="number" class="form-control" ng-model="thn" ng-change="NetAmtChange()">
                                    </div>
                                </div>
                                <!--Agency net amount-->
                                <div class="row mt-3">
                                    <div class="col-md-3">
                                        <p class="fw-bolder">Agency Net Amount</p>
                                    </div>
                                    <div class="col-md-8">
                                        {{netamt | number}}
                                    </div>
                                </div>
                                <div class="mt-2">
                                    <hr>
                                </div>
                                <!--Add Button-->
                                <div class="justify-content-center d-flex">
                                    <button type="button" class="btn btn-dark"
                                        ng-click="addAgencyTableBtn()">ADD</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>
            <!--Agency/Employee table-->
            <div ng-show="AgencyLists.length > 0">
                <div class="col-12 d-flex justify-content-between">
                    <p class="fw-bolder mt-5 ">AGENCY/EMPLOYEE LIST</p>
                    <button type="button" class="btn btn-success my-1 btn-sm"> <i
                            class="bi bi-printer text-white"></i>OFFICE
                        COPY</button>
                </div>
                <div class="mt-3">
                    <hr>
                    <!--table-->
                    <table class="table table-bordered">
                        <thead class="bg-primary bg-opacity-25">
                            <tr class="text-primary">
                                <th scope="col">S.No</th>
                                <th scope="col">Name/GST No</th>
                                <th scope="col">Bank Name</th>
                                <th scope="col">Bank Branch</th>
                                <th scope="col">IFSC CODE</th>
                                <th scope="col">A/C No</th>
                                <th scope="col">Gross(in Rs.)</th>
                                <th scope="col">PT Dedn(in Rs.)</th>
                                <th scope="col">TDS(IT)(IN Rs.)</th>
                                <th scope="col">GST(in Rs.)</th>
                                <th scope="col">GIS(in Rs.)</th>
                                <th scope="col">Telangana Haritha Nidhi(in Rs.)</th>
                                <th scope="col">Net Amount(in Rs.)</th>
                                <th scope="col">Delete</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="AgencyList in AgencyLists">
                                <td>{{$index+1}}</td>
                                <td>{{AgencyList.agency_name}}</td>
                                <td>{{AgencyList.bank_name}}</td>
                                <td>{{AgencyList.bank_branch}}</td>
                                <td>{{AgencyList.ifsc_code}}</td>
                                <td>{{AgencyList.account_number}}</td>
                                <td>{{AgencyList.gross | number}}</td>
                                <td>{{AgencyList.ptdedn | number}}</td>
                                <td>{{AgencyList.tds | number}}</td>
                                <td>{{AgencyList.gst | number}}</td>
                                <td>{{AgencyList.gis | number}}</td>
                                <td>{{AgencyList.thn | number}}</td>
                                <td>{{AgencyList.netamt | number}}</td>
                                <td><button type="button" class="btn btn-danger" ng-click="deleteRow($index)">Remove</button></td>
                                <tr>
                                <td colspan="6" class="text-end"><b>Total</b></td>
                                <td>{{AgencyLists | sumColumn: 'gross' | number }}</td>
                                <td>{{AgencyLists | sumColumn: 'ptdedn' | number}}</td>
                                <td>{{AgencyLists | sumColumn: 'tds' | number}}</td>
                                <td>{{AgencyLists | sumColumn: 'gst' | number}}</td>
                                <td>{{AgencyLists | sumColumn: 'gis' | number}}</td>
                                <td>{{AgencyLists | sumColumn: 'thn' | number}}</td>
                                <td>{{AgencyLists | sumColumn: 'netamt' | number}}</td>
                            </tr>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!--yellow bg-->
                <div class="heading bg-warning bg-opacity-25 mt-3 mb-2 p-2 col-12">
                    <div class="text-danger opacity-95">If you don't find HOA for the bill please select <b>Other</b>
                        option</div>
                </div>
                <!--form-->
                <!--Select HOA-->
                <div class="row">
                    <div class="col-4">
                        <p class="fw-bold mt-3">Select Head of Account<span class="text-danger">*</span>:</p>
                    </div>
                    <div class="col-8 mt-2">
                        <select class="form-select" ng-model="HoaForm"   ng-change="serviceHead=HoaForm.substring(0, 4)">
                            <option disabled>Select Head Of Account</option>
                            <option ng-repeat="hoa in hoanumbers" value="{{hoa.hoa}}">{{hoa.hoa}}</option>
                        </select>
                    </div>
                </div>
                <!--Agency Reference Number-->
                <div class="row">
                    <div class="col-4">
                        <p class="fw-bold mt-4">Agency Reference Number<span class="text-danger">*</span>:</p>
                    </div>
                    <div class="col-8 mt-2">
                        <input type="text" class="form-control" ng-model="reference_number">
                        <div>
                            * Enter phoneno of telephone bill,Water can number of water bill..etc
                        </div>
                    </div>

                </div>
                <!--Enter Service Major Head-->
                <div class="row">
                    <div class="col-4">
                        <p class="fw-bold mt-4">Enter Service Major Head<span class="text-danger">*</span>:</p>
                    </div>
                    <div class="col-8 mt-2">
                        <input type="text" class="form-control" ng-model="serviceHead">
                    </div>
                </div>
                <!--Enter Purpose-->
                <div class="row">
                    <div class="col-4">
                        <p class="fw-bold mt-4">Enter Purpose<span class="text-danger">*</span>:</p>
                    </div>
                    <div class="col-8 mt-2">
                        <textarea id="text" class="form-control" ng-model="purpose"></textarea>
                    </div>
                </div>
                <!--scruntiny items-->
                <div class="col-12 fw-bolder mt-4">SCRUTINY ITEMS
                    <hr>
                </div>
                <!--scruntiny items table-->
                <table class="table table-bordered">
                    <thead class="bg-primary bg-opacity-25">
                        <tr class="text-primary">
                            <th scope="col">S.No</th>
                            <th scope="col">Description</th>
                            <th scope="col">Yes</th>
                            <th scope="col">No</th>
                            <th scope="col">N/A</th>
                    </thead>
                    <tbody>
                        <tr ng-repeat="scrutiny in scrutinyitems">
                            <td>{{$index+1}}</td>
                            <td>{{scrutiny.scrutiny_desc}}</td>
                            <td><input class="form-check-input" type="radio" name="radiocheck+{{$index}}" ></td>
                            <td><input class="form-check-input" type="radio" name="radiocheck+{{$index}}"></td>
                            <td><input class="form-check-input" type="radio" name="radiocheck+{{$index}}"></td>
                        </tr>
                    </tbody>
                </table>
                <!--Attachments-->
                <div class="col-12 fw-bolder mt-4">ATTACHMENTS
                    <hr>
                </div>
                <!--Attachmentds table-->
                <table class="table table-bordered">
                    <thead class="bg-primary bg-opacity-25">
                        <tr class="text-primary">
                            <th scope="col">S.No</th>
                            <th scope="col">Description</th>
                            <th scope="col">Upload</th>
                            <th scope="col">Uploaded Files</th>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>Others</td>
                            <td><input type="file" class="form-control" id="attachments" multiple>
                                <div><textarea class="form-control mt-2"></textarea></div>
                                <div><button type="button" class="btn btn-success mt-2" ng-click="addFileBtn()">ADD</button></div>
                            </td>
                            <td><p ng-repeat="data in attachmentsArray">
                                {{data.path}}
                                <span ng-click="removeFile()"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                                  </svg></span>
                            </p></td>
                        </tr>
                    </tbody>
                </table>
                <!--generate otp-->
                <div class="col-5 mt-5 d-flex py-2">
                    <select class="form-select" aria-label="Default select example">
                        <option selected>Select phone number</option>
                        <option value="1">9959434298</option>
                    </select>
                    <button type="button" class="btn btn-success btn-sm col-5">GENERATE OTP</button>
                </div>
                <div class="col-12 mt-4">
                    <hr>
                </div>
                <!--Submit Bill Button-->
                <div class="col-4 d-flex justify-content-center">
                    <button type="button" class="btn btn-dark btn-sm" ng-click="SubmitBtn()">SUBMIT BILL</button>
                </div>
            </div><!--main div-->
        </div>
    </div>
</div>